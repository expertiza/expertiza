<% found_in_slots = false %>
<% @slots_filled.each do | slot | %>
  <% if slot.topic_id.to_s == topic.id.to_s %>
    <% available_slots = topic.max_choosers.to_int - slot.count.to_i %>
    <td align="center"><%=  available_slots %></td>
    <% found_in_slots = true %>
  <% end %>
<% end %>
<% unless found_in_slots %>
  <td align="center"><%= topic.max_choosers %></td>
<% end %>
