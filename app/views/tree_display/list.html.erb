<div ng-controller='TreeCtrl'>
<div ng-init="init('<%= @angularParamsJSON %>')"></div>
<h1 style="margin:0 auto; text-align: center">Manage Content</h1>
<%#= render :partial => 'page_header' %>
<%#= render :partial => 'bread_crumbs' %>
<%#= render :partial => 'page_footer' %>
<ul id="tabTable" class="nav nav-tabs">
  <li class="active"><a href="#courses" ng-click="initTable()" data-toggle="tab">Courses</a></li>
  <li><a href="#assignments" ng-click="initTable()" data-toggle="tab">Assignments</a></li>
  <li><a href="#questionnaires" ng-click="initTable()" data-toggle="tab">Questionnaires</a></li>
</ul>

  <div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="courses">
      <div class="form-group pull-right ">
      <div class="form-inline">
      <label class="search-box">Search: </label><input class="form-control" ng-model="searchText">
      </div>
      </div>
      <%= render :partial => '/tree_display/actions/ng/ng_courses_folder_actions' %>
      <div class="inner-table">
      <table class="table table-striped table-hover">
        <thead>
          <th ng-click="predicate = 'name'; reverse=!reverse">Course Name <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'directory'; reverse=!reverse">Directory <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'creation_date'; reverse=!reverse">Creation Date <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'updated_date'; reverse=!reverse">Updated Date <div class="glyphicon glyphicon-sort"></div></th>
          <th>Actions</th>
        </thead>
        <tbody ng-repeat="record in displayTableContent['Courses'] | filter:searchText | orderBy:predicate:reverse">
          <tr ng-click="showCellContent(record.name, record.directory)" class="clickable-row">
            <td>{{record.name}}</td>
            <td>{{record.directory}}</td>
            <td>{{record.creation_date}}</td>
            <td>{{record.updated_date}}</td>
            <td>
              
            </td>

          </tr>
          <tr class="no-cursor-tr no-color-tr" ng-if="display[record.name+'|'+record.directory] && allData[record.name+'|'+record.directory]">
          <td colspan="3">
            <table class="normal-table table table-bordered table-striped compact-table" ng-repeat="cell in cellContent">
              <tbody>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Name</b>: {{cell.name}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Directory</b>: {{cell.directory}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Creation Date</b>: {{cell.creation_date}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Modified Date</b>: {{cell.updated_date}}</td>
                </tr>
              </tbody>
            </table>
          </td>
          </tr>
        </tbody>
      </table>
      </div>
      <button ng-click="getMoreContent('Courses',1)" type="button" class="btn btn-info">Load More..</button>
      <button ng-click="getMoreContent('Courses',2)" type="button" class="btn btn-primary">Load All</button>
      <button ng-click="gotoTop()" type="button" class="btn btn-default pull-right">Go to Top</button>
    </div>

    <div class="tab-pane fade" id="assignments">
      <div class="form-group pull-right ">
      <div class="form-inline">
      <label class="search-box">Search: </label><input class="form-control" ng-model="searchText">
      </div>
      </div>
      <%= render :partial => '/tree_display/actions/ng/ng_assignments_folder_actions' %>
      <div class="inner-table">
      <table class="table table-striped table-hover">
        <thead>
          <th ng-click="predicate = 'name'; reverse=!reverse">Name <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'directory'; reverse=!reverse">Directory <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'creation_date'; reverse=!reverse">Creation Date <div class="glyphicon glyphicon-sort"></div></th>
          <th ng-click="predicate = 'updated_date'; reverse=!reverse">Updated Date <div class="glyphicon glyphicon-sort"></div></th>
          <th>Actions</th>
        </thead>
        <tbody ng-repeat="record in displayTableContent['Assignments'] | filter:searchText | orderBy:predicate:reverse">
          <tr ng-click="showCellContent(record.name, record.directory)" class="clickable-row">
            <td>{{record.name}}</td>
            <td>{{record.directory}}</td>
            <td>{{record.creation_date}}</td>
            <td>{{record.updated_date}}</td>
            <td>
              
            </td>
          </tr>
          <tr class="no-cursor-tr no-color-tr" ng-if="display[record.name+'|'+record.directory] && allData[record.name+'|'+record.directory]">
          <td colspan="3">
            <table class="normal-table table table-bordered table-striped" ng-repeat="cell in cellContent">
              <tbody>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Name</b>: {{cell.name}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Directory</b>: {{cell.directory}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Creation Date</b>: {{cell.creation_date}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Modified Date</b>: {{cell.updated_date}}</td>
                </tr>
              </tbody>
            </table>
          </td>
          </tr>
        </tbody>
      </table>
      </div>
      <button ng-click="getMoreContent('Assignments', 1)" type="button" class="btn btn-info">Load More..</button>
      <button ng-click="getMoreContent('Assignments',2)" type="button" class="btn btn-primary">Load All</button>
      <button ng-click="gotoTop()" type="button" class="btn btn-default pull-right">Go to Top</button>
    </div>

    <div class="tab-pane fade" id="questionnaires">
      <div class="inner-table">
      <table class="table table-striped table-hover">
        <thead>
          <th>Stages</th>
          <th>Actions</th>
        </thead>
        <tbody ng-repeat="record in displayTableContent['Questionnaires']">
          <tr ng-click="showCellContent(record.name, record.directory)" class="clickable-row">
            <td>{{record.name}}</td>
            <td>
              
            </td>
          </tr>
          <tr class="no-cursor-tr no-color-tr" ng-if="display[record.name+'|'+record.directory] && allData[record.name+'|'+record.directory]">
          <td colspan="3">
            <table class="normal-table table table-bordered table-striped" ng-repeat="cell in cellContent">
              <tbody>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Name</b>: {{cell.name}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Directory</b>: {{cell.directory}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Creation Date</b>: {{cell.creation_date}}</td>
                </tr>
                <tr class="no-cursor-tr no-color-tr">
                  <td><b>Modified Date</b>: {{cell.updated_date}}</td>
                </tr>
              </tbody>
            </table>
          </td>
          </tr>
        </tbody>
      </table>
      </div>
      <button ng-click="gotoTop()" type="button" class="btn btn-default pull-right">Go to Top</button>
    </div>

</div>
