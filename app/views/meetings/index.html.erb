<h1>Mentored Teams</h1>

<table border="1">
  <thead>
  <tr>
    <th>Team Name</th>
    <th>Members' Names</th>
    <th>Members' User IDs</th>
    <th>Emails Concatenated</th>
    <th>Mentor</th>
    <th>1st Mtg</th>
    <th>2nd Mtg</th>
    <th>3rd Mtg</th>
  </tr>
  </thead>

  <tbody>
  <% @mentored_teams.each do |team| %>
    <tr>
      <!-- Team Name -->
      <td><%= team.name %></td>

      <!-- Members' Names -->
      <td><%= team.users.map(&:name).join(', ') %></td>

      <!-- Members' User IDs -->
      <td><%= team.users.map(&:id).join(', ') %></td>

      <!-- Emails Concatenated -->
      <td><%= team.users.map(&:email).join(', ') %></td>

      <!-- Mentor Name -->
      <% mentor = team.mentor || 'N/A' %>
      <td><%= mentor.is_a?(User) ? mentor.name : mentor %></td>

      <!-- Meeting Dates -->
      <% meeting_dates = team.meetings.order(:date).limit(3).pluck(:date) %>
      <% 3.times do |i| %>
        <td><%= meeting_dates[i]&.strftime('%-m/%-d') || '' %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>
