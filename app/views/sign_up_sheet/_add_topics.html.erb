<%= link_to 'Manage topics', "javascript:manageTopics(#{params[:id]})", :remote => true, "data-target": "manage-topics", "data-toggle": "modal"%>

<% if @sign_up_topics.count == 0%>

    <%= link_to 'Import topics',
                {
                    :controller => 'import_file',
                    :action => 'start',
                    :model => 'SignUpTopic',
                    :id => params[:id],
                    :expected_fields => 'Topic Identifier' +
                        '&nbsp&nbsp|&nbsp&nbsp' +
                        'Topic Name' +
                        '&nbsp&nbsp|&nbsp&nbsp' +
                        'Max Choosers' +
                        '&nbsp&nbsp|&nbsp&nbsp' +
                        'Topic Category <em>(optional)</em>' +
                        '&nbsp&nbsp|&nbsp&nbsp' +
                        'Topic Description <em>(optional)</em>' +
                        '&nbsp&nbsp|&nbsp&nbsp' +
                        'Topic Link <em>(optional)</em>'
                },
                :confirm => "You are adding topics to this assignment.  Students will now have to select a topic before they submit their work.",
                :topic => @topics,
                :method => :get %> |

<% else %>
    <%= link_to 'Import topics',
                :controller=>'import_file',
                :action=>'start',
                :model => 'SignUpTopic',
                :id => params[:id],
                :expected_fields => 'Topic Identifier' +
                    '&nbsp&nbsp|&nbsp&nbsp' +
                    'Topic Name' +
                    '&nbsp&nbsp|&nbsp&nbsp' +
                    'Max Choosers' +
                    '&nbsp&nbsp|&nbsp&nbsp' +
                    'Topic Category <em>(optional)</em>' +
                    '&nbsp&nbsp|&nbsp&nbsp' +
                    'Topic Description <em>(optional)</em>' +
                    '&nbsp&nbsp|&nbsp&nbsp' +
                    'Topic Link <em>(optional)</em>' %> |

<% end %>

<div class="modal hide fade" id="manage-topics"></div>
