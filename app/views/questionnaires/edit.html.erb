<%= render :partial => 'item_weight' %>
<h1>Edit <%= @itemnaire.display_type %></h1>

<% if @itemnaire.type == "QuizQuestionnaire" %>
  <%= form_tag({:controller=>'quiz_itemnaires', :action=>'update', :id=>@itemnaire.id, :pid => params[:pid]}, :method => "put", :multipart => true) do %>
    <table>
        <tr>
          <td valign="top"><label for="itemnaire_name">Name:</label>
            <%= text_field 'itemnaire', 'name'  %>
            <%= hidden_field 'itemnaire', 'id' %>
            <%= hidden_field 'itemnaire', 'type' %>
          </td>
        </tr>
    </table>
    <br/>

    <table id="items_table">
      <tr>
        <td align=left width=300>Questions:</td>
      </tr>

      <% for @item in @itemnaire.items %>

        <%-# The following line call certain method of the object, which returns html string-%>
        <%= @item.edit %>

        <tr><td><br></tr></td>
        
      <% end %>
    </table>

    <%= submit_tag "Save #{@itemnaire.display_type.downcase}", :name=>"save" %>
    <br />
  <% end %>
  <br/>
  <%= link_to 'Back', :controller => 'submitted_content', :action => 'edit', :id => params[:pid] %>
<% else %>
  <%= render :partial => 'itemnaire' %>
  <br />
  <%= render :partial => '/shared_scripts/back' %>
<% end %>
