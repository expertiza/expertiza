<table cellspacing="12">
  <% @last_course = "" %>
  <%@leaderboards.each do |leaderBoard|%>
    <tr>
      <td>
        <table class="sofT" cellspacing="0">
          <tr>
            <td colspan="2" class="helpHed">Top 3 <%=leaderBoard[:achievement] %> <br/>in <%= leaderBoard[:courseName]%></td>
          </tr>
          <%3.times do |i|%>
            <tr>
              <% if (leaderBoard[:sortedGrades][i] != nil) %>
                <td
                  <% if session[:user].id == leaderBoard[:sortedGrades][i][0]%>
                    class="selfRef"
                  <% else %>
                    class="noSelfRef"
                  <% end %>
                  >
                  <%= LeaderboardHelper.getUserName(session[:user].id, leaderBoard[:sortedGrades][i][0]) %></td>
                <td
                  <% if session[:user].id == leaderBoard[:sortedGrades][i][0]%>
                    class="selfRef"
                  <% else %>
                    class="noSelfRef"
                  <% end %>
                  >
                  <%= leaderBoard[:sortedGrades][i][1][0] %></td>
              <% end %>
            </tr>
          <% end %>
        </table>
      </td>
    </tr>
    <% @last_course = leaderBoard[:courseName] %>
  <% end %>
</table>
